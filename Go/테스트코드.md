# 테스트 코드 in GO  
Go는 간편하게 사용 가능한 테스트 프레임워크 내장  

* ```go test``` 명령 실행하여 테스트 코드 실행 가능  
* ```go test```는 현재 폴더에 있는 ```*_test.go``` 파일들을 테스트 코드로 인식, 일괄적으로 실행  
* 테스트 파일은 "testing"이라는 표준 패키지 사용  
* 먼저 testing 패키지 import 하고, 테스트 메서드 작성  
* 테스트 메서드는 TestXxx와 같은 특별한 메서드명 가짐(Test-해당 메서드가 테스트 메서드임을 알림 / Xxx-임의의 메서드명으로 처음 글자는 항상 대문자여야 함)  
그 외 Example, Benchmark 등이 있으며 이 기능들을 함수 이름에 접두사로 사용하는 것을 권하고 있음  
* 테스트 파일은 ```_test``` 접미사 달고 있으면 됨. 즉 ```*_test.go``` 형식  

## 메서드의 ProtoType  
> func TestXxx(t *testing.T)  

testing.T 포인터를 하나 입력으로 받고, 출력은 없음  
테스트 에러 표시는 testing.T의 Error(), Fail() 등의 메서드 사용  

## 테스트 코드 예제  
* 테스트를 할 함수  
```
package calc
 
// Sum -
func Sum(a ...int) int {
    sum := 0
    for _, i := range a {
        sum += i
    }
    return sum
}
```  

* Sum() 함수를 테스트할 테스트 코드  
* 테스트 패키지명을 calc가 아닌 calc_test로 설정  
* 파일명을 *_test.go로 설정  
```
package calc_test
 
import (
    "calc"
    "testing"
)
 
func TestSum(t *testing.T) {
    s := calc.Sum(1, 2, 3)
 
    if s != 6 {
        t.Error("Wrong result")
    }
}
``` 

* 테스트 코드 실행(유닛 테스트 파일이 /src/calc/calc_test.go 라는 경로에 있을 때)  
```
~/goapp/src/calc$ go test
PASS
ok      calc    0.007s
```  

## assert 패키지  
* 테스트 코드 양에 따라 if가 난무하는 코드가 될 수 있어 [assert 패키지](https://github.com/stretchr/testify)의 도움을 받는 것이 좋음  
* 좀 더 시각적인 output 제공 가능  

## gotests  
ㄱ









## 출처  
* http://golang.site/go/article/115-Go-%EC%9C%A0%EB%8B%9B-%ED%85%8C%EC%8A%A4%ED%8A%B8  
* https://box0830.tistory.com/371  
